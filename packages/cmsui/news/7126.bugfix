unify and fix the sidebar collapse functionality. @ionlizarazu
