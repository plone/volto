{"ast":null,"code":"import { Node } from 'slate';\nimport { _unwrapElement, _getActiveElement } from '@plone/volto-slate/elementEditor/utils';\nimport config from '@plone/volto/registry';\n\n/**\n * Handles empty string cases in the given `editor`.\n * It will unwrap empty strings for any major type (ex: a, mentions, footnote, zotero).\n * @param {Editor} editor\n * @param {Event} event\n */\nexport function unwrapEmptyString(props) {\n  const {\n    nodeTypesToHighlight\n  } = config.settings.slate;\n  const uniqueNodeTypesToHighligh = [...new Set(nodeTypesToHighlight)];\n  const getActiveElement = _getActiveElement(uniqueNodeTypesToHighligh);\n  const unwrapElement = _unwrapElement(uniqueNodeTypesToHighligh);\n  const {\n    editor\n  } = props;\n  const actEl = getActiveElement(editor);\n  if (actEl && Node.string(actEl[0]).length === 1) {\n    unwrapElement(editor);\n  }\n}","map":{"version":3,"names":["Node","_unwrapElement","_getActiveElement","config","unwrapEmptyString","props","nodeTypesToHighlight","settings","slate","uniqueNodeTypesToHighligh","Set","getActiveElement","unwrapElement","editor","actEl","string","length"],"sources":["/Users/varshanmaji/Projects/volto/packages/volto-slate/src/blocks/Text/keyboard/unwrapEmptyString.js"],"sourcesContent":["import { Node } from 'slate';\nimport {\n  _unwrapElement,\n  _getActiveElement,\n} from '@plone/volto-slate/elementEditor/utils';\nimport config from '@plone/volto/registry';\n\n/**\n * Handles empty string cases in the given `editor`.\n * It will unwrap empty strings for any major type (ex: a, mentions, footnote, zotero).\n * @param {Editor} editor\n * @param {Event} event\n */\nexport function unwrapEmptyString(props) {\n  const { nodeTypesToHighlight } = config.settings.slate;\n  const uniqueNodeTypesToHighligh = [...new Set(nodeTypesToHighlight)];\n  const getActiveElement = _getActiveElement(uniqueNodeTypesToHighligh);\n  const unwrapElement = _unwrapElement(uniqueNodeTypesToHighligh);\n\n  const { editor } = props;\n  const actEl = getActiveElement(editor);\n\n  if (actEl && Node.string(actEl[0]).length === 1) {\n    unwrapElement(editor);\n  }\n}\n"],"mappings":"AAAA,SAASA,IAAI,QAAQ,OAAO;AAC5B,SACEC,cAAc,EACdC,iBAAiB,QACZ,wCAAwC;AAC/C,OAAOC,MAAM,MAAM,uBAAuB;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,iBAAiBA,CAACC,KAAK,EAAE;EACvC,MAAM;IAAEC;EAAqB,CAAC,GAAGH,MAAM,CAACI,QAAQ,CAACC,KAAK;EACtD,MAAMC,yBAAyB,GAAG,CAAC,GAAG,IAAIC,GAAG,CAACJ,oBAAoB,CAAC,CAAC;EACpE,MAAMK,gBAAgB,GAAGT,iBAAiB,CAACO,yBAAyB,CAAC;EACrE,MAAMG,aAAa,GAAGX,cAAc,CAACQ,yBAAyB,CAAC;EAE/D,MAAM;IAAEI;EAAO,CAAC,GAAGR,KAAK;EACxB,MAAMS,KAAK,GAAGH,gBAAgB,CAACE,MAAM,CAAC;EAEtC,IAAIC,KAAK,IAAId,IAAI,CAACe,MAAM,CAACD,KAAK,CAAC,CAAC,CAAC,CAAC,CAACE,MAAM,KAAK,CAAC,EAAE;IAC/CJ,aAAa,CAACC,MAAM,CAAC;EACvB;AACF","ignoreList":[]},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}