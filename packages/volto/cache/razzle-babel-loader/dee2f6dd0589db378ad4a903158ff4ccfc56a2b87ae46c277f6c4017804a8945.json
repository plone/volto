{"ast":null,"code":"const SECOND = 1000;\nconst MINUTE = SECOND * 60;\nconst HOUR = MINUTE * 60;\nconst DAY = HOUR * 24;\nconst MONTH = DAY * 30;\nconst YEAR = DAY * 365; // ? is this safe or should it be more accurate\n\nexport const short_date_format = {\n  // 12/9/2021\n  year: 'numeric',\n  month: 'numeric',\n  day: 'numeric'\n};\nexport const short_date_and_time_format = {\n  // 12/9/21, 10:39 AM\n  dateStyle: 'short',\n  timeStyle: 'short'\n};\nexport const long_date_format = {\n  // Thursday, December 9, 2021 at 10:39 AM\n  dateStyle: 'full',\n  timeStyle: 'short'\n};\nexport const toDate = d => ['string', 'number'].includes(typeof d) ? new Date(d) : d;\n\n/**\n * Friendly formatting for dates\n */\nexport function formatDate({\n  date,\n  // Date() or  '2022-01-03T19:26:08.999Z'\n  format,\n  // format object, see https://tc39.es/ecma402/#datetimeformat-objects\n  locale = 'en',\n  long,\n  // true if format should be in long readable form.\n  includeTime,\n  // true if short date format should include time\n  formatToParts = false\n}) {\n  date = toDate(date);\n  format = format ? format : long && !includeTime ? long_date_format : includeTime ? short_date_and_time_format : short_date_format;\n  const formatter = new Intl.DateTimeFormat(locale, format);\n  return formatToParts ? formatter.formatToParts(date) : formatter.format(date).replace('\\u202F', ' ');\n}\nexport function formatRelativeDate({\n  date,\n  locale = 'en',\n  relativeTo,\n  style = 'long',\n  // long|short|narrow\n  formatToParts = false\n}) {\n  date = toDate(date);\n  relativeTo = toDate(relativeTo || new Date());\n  const deltaMiliTime = date.getTime() - relativeTo.getTime();\n  const absDeltaMiliTime = Math.abs(deltaMiliTime);\n  const deltaSeconds = absDeltaMiliTime / SECOND;\n  const deltaMinutes = absDeltaMiliTime / MINUTE;\n  const deltaHours = absDeltaMiliTime / HOUR;\n  const deltaDays = absDeltaMiliTime / DAY;\n  const deltaMonths = absDeltaMiliTime / MONTH;\n  const deltaYears = absDeltaMiliTime / YEAR;\n  const deltas = [deltaYears, deltaMonths, deltaDays, deltaHours, deltaMinutes, deltaSeconds];\n  const pos = deltas.map(Math.round).findIndex(d => d > 0);\n  const tag = ['years', 'months', 'days', 'hours', 'minutes', 'seconds'][pos];\n  const formatter = new Intl.RelativeTimeFormat(locale, {\n    numeric: 'auto',\n    style\n  });\n  const v = Math.round(deltaMiliTime < 0 ? -1 * deltas[pos] : deltas[pos]);\n  // console.log({ date, relativeTo, v });\n\n  return isNaN(v) ? '' : formatToParts ? formatter.formatToParts(v, tag) : formatter.format(v, tag).replace('\\u202F', ' '); // use \"now\" ?\n}","map":{"version":3,"names":["SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","short_date_format","year","month","day","short_date_and_time_format","dateStyle","timeStyle","long_date_format","toDate","d","includes","Date","formatDate","date","format","locale","long","includeTime","formatToParts","formatter","Intl","DateTimeFormat","replace","formatRelativeDate","relativeTo","style","deltaMiliTime","getTime","absDeltaMiliTime","Math","abs","deltaSeconds","deltaMinutes","deltaHours","deltaDays","deltaMonths","deltaYears","deltas","pos","map","round","findIndex","tag","RelativeTimeFormat","numeric","v","isNaN"],"sources":["/Users/varshanmaji/Projects/volto/packages/volto/src/helpers/Utils/Date.js"],"sourcesContent":["const SECOND = 1000;\nconst MINUTE = SECOND * 60;\nconst HOUR = MINUTE * 60;\nconst DAY = HOUR * 24;\nconst MONTH = DAY * 30;\nconst YEAR = DAY * 365; // ? is this safe or should it be more accurate\n\nexport const short_date_format = {\n  // 12/9/2021\n  year: 'numeric',\n  month: 'numeric',\n  day: 'numeric',\n};\n\nexport const short_date_and_time_format = {\n  // 12/9/21, 10:39 AM\n  dateStyle: 'short',\n  timeStyle: 'short',\n};\n\nexport const long_date_format = {\n  // Thursday, December 9, 2021 at 10:39 AM\n  dateStyle: 'full',\n  timeStyle: 'short',\n};\n\nexport const toDate = (d) =>\n  ['string', 'number'].includes(typeof d) ? new Date(d) : d;\n\n/**\n * Friendly formatting for dates\n */\nexport function formatDate({\n  date, // Date() or  '2022-01-03T19:26:08.999Z'\n  format, // format object, see https://tc39.es/ecma402/#datetimeformat-objects\n  locale = 'en',\n  long, // true if format should be in long readable form.\n  includeTime, // true if short date format should include time\n  formatToParts = false,\n}) {\n  date = toDate(date);\n  format = format\n    ? format\n    : long && !includeTime\n      ? long_date_format\n      : includeTime\n        ? short_date_and_time_format\n        : short_date_format;\n\n  const formatter = new Intl.DateTimeFormat(locale, format);\n  return formatToParts\n    ? formatter.formatToParts(date)\n    : formatter.format(date).replace('\\u202F', ' ');\n}\n\nexport function formatRelativeDate({\n  date,\n  locale = 'en',\n  relativeTo,\n  style = 'long', // long|short|narrow\n  formatToParts = false,\n}) {\n  date = toDate(date);\n  relativeTo = toDate(relativeTo || new Date());\n\n  const deltaMiliTime = date.getTime() - relativeTo.getTime();\n  const absDeltaMiliTime = Math.abs(deltaMiliTime);\n\n  const deltaSeconds = absDeltaMiliTime / SECOND;\n  const deltaMinutes = absDeltaMiliTime / MINUTE;\n  const deltaHours = absDeltaMiliTime / HOUR;\n  const deltaDays = absDeltaMiliTime / DAY;\n  const deltaMonths = absDeltaMiliTime / MONTH;\n  const deltaYears = absDeltaMiliTime / YEAR;\n  const deltas = [\n    deltaYears,\n    deltaMonths,\n    deltaDays,\n    deltaHours,\n    deltaMinutes,\n    deltaSeconds,\n  ];\n  const pos = deltas.map(Math.round).findIndex((d) => d > 0);\n  const tag = ['years', 'months', 'days', 'hours', 'minutes', 'seconds'][pos];\n\n  const formatter = new Intl.RelativeTimeFormat(locale, {\n    numeric: 'auto',\n    style,\n  });\n\n  const v = Math.round(deltaMiliTime < 0 ? -1 * deltas[pos] : deltas[pos]);\n  // console.log({ date, relativeTo, v });\n\n  return isNaN(v)\n    ? ''\n    : formatToParts\n      ? formatter.formatToParts(v, tag)\n      : formatter.format(v, tag).replace('\\u202F', ' '); // use \"now\" ?\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}